{% extends 'webkiosk/base.html' %}
{% load static %}

{% block pagetitle %}Orders{% endblock %}

{% block maincontent %}
    <section class="body__container">
        <div class="body__wrapper">
            <div class="header__elements">
                <h3 class="header bold">Latest Orders</h3>
                <button class="primary-btn"><a href="{% url 'webkiosk:add-order' %}" id="order__add__button">Add Order</a></button>
            </div>
            {% for message in messages %}
            <p class = "message-text text-green-500">{{message}}</p>
            {% endfor %}
            <div class="table__box">
                <div class="table__row table__head orders">
                    <div class="table__cell first__cell">
                        <p><input id="checkbox-item" type="checkbox"></p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-header">Order Date <img src="https://ik.imagekit.io/3qhtdzpqspxp/CSCI/Assets/gray-down-arrow_WRx44HttsD.svg" alt="Gray Arrow" id="gray-arrow-icon"></p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-header">Order #</p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-header">Customer Name</p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-header">Total Amount</p>
                    </div>
                    <div class="table__cell last__cell"></div>
                </div>
                {% for order in orderlist %}
                <div class="table__row orders">
                    <div class="table__cell first__cell">
                        <p><input id="checkbox-item" type="checkbox"></p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-text">{{ order.orderdatetime }}</p>
                    </div>
                    <div class="table__cell">
                        <a href = "{% url 'webkiosk:detail-order' pk=order.pk %}"><p id="table__cell-text"><span style="color:#10B981; text-decoration: underline;">{{ order.pk }}</a></span></p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-text">{{ order.customer.firstname }} {{ order.customer.lastname }}</p>
                    </div>
                    <div class="table__cell">
                        <p id="table__cell-text">PHP {{ order.total_price }}</p>
                    </div>
                    <div class="table__cell last__cell">
                        <a href = "{% url 'webkiosk:edit-order' pk=order.pk %}"><img src="{% static 'webkiosk/assets/icons/u_edit.svg' %}" alt="Edit Icon"></a>
                        <a href = "{% url 'webkiosk:delete-order' pk=order.pk %}"><img src="{% static 'webkiosk/assets/icons/u_trash-alt.svg' %}" alt="Trash Icon" style="margin: 0 0 0 24px;"></a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

<script src="nav.js"></script>
{% endblock %}